// curried add 
// accepts a partial list of arguments
//

const add = (x: number, y?: number): any => {
//const add = (x: number, y?: number): ((y: number) => number) | number => {
  const oldx = x;
  const oldy = y;

  if (typeof oldy === "undefined") {
    return function (newy: number): number{
      return oldx + newy;
    }
  }
  else {
    return x + y;
  }
}

console.log("type of add: ", typeof add(5));
console.log("add curried explicitly: ", add(2)(5));

const addImplicitly = (x: number, y?: number): any => {
  if (typeof y === "undefined") {
    return function (y) {
      return x + y;
    }
  }

  return x + y;
}

console.log("add implicitly: ", addImplicitly(3)(2));

// can we transform any function into a new one that accepts partial parameters?
//
const schonfinkelize = (...arguments: any[]):any => {
  const slice = Array.prototype.slice, stored_args = slice.call(arguments, 1);

  return function(){
    const new_args = slice.call(arguments), args = stored_args.concat(new_args);
    return arguments[1].apply(null, args)
  }
}

const regularAdd = (x: number, y: number): number => {
  return x + y;
}

const newAdd = schonfinkelize(add, 5);

console.log("new add: ", newAdd(5));






